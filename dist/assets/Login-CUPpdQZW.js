import{b as f,u as m,V as c,l as g,U as p,r as i,a as y,j as e,L as h}from"./index-BZiLoYku.js";import{A as j}from"./AppLayout-DYW4N5im.js";import{u as b}from"./useMutation-DoKyTced.js";function v(){const t=f(),l=m(),{mutate:s,isPending:r}=b({mutationFn:({email:o,password:a})=>g({email:o,password:a}),onSuccess:()=>{c.success("با موفقیت وارد شدید"),l("/menu",{replace:!0}),t.invalidateQueries({queryKey:p})},onError:()=>c.error("رمز عبور یا نام کاربری اشتباه است")});return{mutateLogin:s,isPending:r}}function w(){const[t,l]=i.useState("myehsanabbasifar@gmail.com"),[s,r]=i.useState(""),{mutateLogin:o,isPending:a}=v(),{isAuth:u}=y(),x=m();function d(n){n.preventDefault(),t&&s&&o({email:t,password:s},{onSettled:()=>{l(""),r("")}})}return i.useEffect(()=>{u&&x("/menu")},[u]),e.jsxs("form",{className:"font-Vazirmatn flex flex-col gap-y-2",onSubmit:d,children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"mb-1 text-center",children:"ایمیل خود را وارد کنید"}),e.jsx("input",{type:"email",onChange:n=>l(n.target.value),value:t,className:"bg-yellow-300 rounded-full outline-yellow-500 text-gray-500 text-center"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"mb-1 text-center",children:"رمز عبور خود را وارد کنید"}),e.jsx("input",{value:s,onChange:n=>r(n.target.value),type:"password",className:"bg-yellow-300 rounded-full outline-yellow-500 text-gray-500 text-center"})]}),e.jsx("button",{disabled:a,className:`${a?"bg-yellow-200":"bg-yellow-400"} rounded-full cursor-pointer mt-4  px-6 py-2`,children:a?"در حال دریافت اصلاعات":"ورود به حساب کاربری "}),e.jsx(h,{className:"text-right",to:"/signup",children:"اکانت ندارید ؟‌ثبت نام"})]})}function S(){return e.jsx(j,{children:e.jsx("main",{children:e.jsx("div",{className:"w-2/3 sm:w-1/2 mx-auto p-5 mt-20",children:e.jsx(w,{})})})})}export{S as default};
